#!/usr/bin/env python

# todo: convert optparse to argparse if python version ever gets updated

from optparse import OptionParser
from dot_tools.git_tools import is_git, toplevel

def main():
    parser = OptionParser("Finds the top-level for a git clone")
    parser.add_option(
        '-r',
        '--relative',
        action='store_true',
        default=False,
        help="Show the relative path to the toplevel of the current git directory",
    )
    (options, args) = parser.parse_args()

    if not is_git():
        parser.error("Can't get the top level of a non-git directory")

    print(toplevel(relative=options.relative))

if __name__ == '__main__':
    main()

