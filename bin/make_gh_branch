#!/usr/bin/env python

from argparse import ArgumentParser, ArgumentDefaultsHelpFormatter

from dot_tools.git_tools import is_git, make_github_branch

if __name__ == '__main__':
    parser = ArgumentParser(
        formatter_class=ArgumentDefaultsHelpFormatter,
        description="Create a new git branch based on a github issue number",
    )
    parser.add_argument(
        'issue_number',
        type=int,
        help="The issue number to create a branch for",
    )
    parser.add_argument(
        '-b',
        '--base',
        help="the base for the new branch. Defaults to current branch",
    )
    parser.add_argument(
        '-v',
        '--verbose',
        action='store_true',
        help="print extra status messages",
    )
    args = parser.parse_args()
    make_github_branch(args.issue_number, base=args.base, verbose=args.verbose)
